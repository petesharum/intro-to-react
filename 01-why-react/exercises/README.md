# Week One

> â„¹ï¸ For the first two exercises, you can drag the `index.html` file into a browser to render the result. The third exercise will have special viewing instructions.

## Render a React app

At its core, React is a rendering library. The following exercise demonstrates that absolute minimum amount of work required to render a React app.

1. Open up `index.html`. This is a simple HTML file generated by Emmett, a special autocomplete plugin embedded in VS Code.
   
   > ðŸ’¡ If you are in VS Code, try deleting the contents of this file, then, with your cursor at the top of the page, type `html:5` and press `TAB`. You should see markup similar to what you just deleted. Go ahead and undo the deletion (`âŒ˜ + Z` on macOS or `CTRL + Z` on Windows).

2. Copy the following script elements and paste them into the `<head>` of `index.html`:

    ```html
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    ```

    These script elements point to a universal module definition (UMD) version of React, hosted on https://www.unpkg.com/. This allows us to run React without installing any packages.

    Notice we are pulling in two scripts, React and ReactDOM. The React library itself is an abstraction that defers to other libraries to connect to its API. ReactDOM is the adapter layer that connects React to the Document Object Model, or DOM, which allows React to render web apps.

    Note that React and ReactDOM are now both available in the global namespace as `React` and `ReactDOM` respectively.

3. Before React can render anything to the page, it needs a DOM node to attach to. Add the following inside the `body` element:

    ```html
    <div id="root"></div>
    ```

4. Now we need to create a React root. Inside of the `script` element at the bottom of `body`, add the following:

    ```js
    const rootElement = document.getElementById('root');
    const root = ReactDOM.createRoot(rootElement);
    ```

    The first line grabs a reference to the `div` we just added and stores it in the `rootElement` variable. We then pass this reference to `createRoot`, which gives us our React root.

5. Finally, we can render to the page with the following:

    ```js
    root.render('Hello, world!');
    ```

    If you open `index.html` inside of a browser, you should see the words `Hello, world!` rendered to the page. Right now the text is a direct child of the root, `<div id="root">`. Let's render a simple element.

6. React renders elements using the `createElement` method. Replace `'Hello, world!'` with the following:

    ```js
    root.render(React.createElement('h1', null, 'Hello, world!'));
    ```

    Save and refresh the browser. You should now see `Hello, world!` styled differently. If you inspect the page, you will see that the text is now rendered inside of an `h1`.

## Create a component

Currently our app is rendering a simple `h1` element. React's strength is in its ability to group these elements, along with style and behavior, into components. If elements like `h1` are atoms, components can be thought of as molecules, and even sometimes complex organisms.

There are two ways of creating components in React: function components and class components. We will focus on function components, which are simply functions that contain rendering instructions. Let's move our `h1` render into a new function component.

1. Inside the `script` tags we added to `index.html`, create a function called `Title` _underneath_ the `root.render`:

    ```js
    function Title() {
        // TODO
    }
    ```

    > ðŸš¨ Function components, and React components in general, must be captialized when rendered. The capitalization tells React to render this as a custom component and not as a native browser element (e.g. `Title` vs. `<title>`).

2. Inside the `Title` component function, return a new `React.createElement`. We'll render an `h1` like the current `root.render`:

    ```js
    function Title() {
        return React.createElement('h1');
    }
    ```

3. Now replace the `h1` in the `root.render` with `Title`. Note that we've updated the text we're rendering as well:

    ```js
    root.render(React.createElement(Title, null, 'Menu'));
    ```

    If you are viewing your app in a browser, refresh the page. Do you see anything? If you were to inspect the HTML, you would see the `h1` element is rendered, but there's nothing in it. That's because we're not passing props to the `Title` component.

4. One of the ways React components receive data is through `props`, an object that can contain any type of JavaScript value, including other objects and even functions. Props are passed to the rendered component as the second argument of `React.createElement`. This is what the `null` represents in the current rendered `h1`.

    The last argument of `React.createElement` is a special prop called `children`. React `children` are zero or more React elements that are rendered as nested elements of the rendered component. You can pass an array of React elements, a single React element, or several React elements as `children`.

    ```js
    /**
     * Examples of React children
     */

    // children as a single element
    React.createElement('h1', null, React.createElement('span', null, 'Hi!'));

    // children as an array
    React.createElement('h1', null, [
        React.createElement('span', null, 'I am a nested span'),
        'I am a text node',
    ]);

    // children as multiple arguments
    React.createElement(
        'h1',
        null,
        React.createElement('span', null, 'I am a nested span'),
        'I am a text node',
        // ...
    );
    ```

    In order to access `props`, including `children`, we need to pass the props to the `React.createElement` in `Title`.

    In the function component `Title`, add an arugment and call it `props`. Add `props` as the second argument to the returned `React.createElement`:

    ```js
    function Title(props) {
        return React.createElement('h1', props);
    }
    ```

    `children` exists as a key in `props`, so the above function is the equivalent of:

    ```js
    function Title({children, ...props}) {
        return React.createElement('h1', props, children);
    }
    ```

5. Refresh your page now. You should now see the `Menu` title rendered as an `h1`.

Components encapsulate complexity while the `props` and `children` parameters allow for flexibility and composability, making React components quite powerful.

**Bonus:** Play around with what you pass as the `props` parameter. See what happens when you pass a `style` prop with a value of `{color: 'red'}`.

## Modularize the app

It's helpful to break up your applications into smaller files, or modules. Modules make your code easier to understand by narrowing the scope of concern. Let's break up this app into smaller modules.

1. Inside this directory, create a new folder and call it `src`. This is where your modules will live.

2. Create a new file inside of `src`, `title.js`. Cut the `Title` function component from `index.html` and paste it in this new file. At the bottom of the page, add this line:

    ```js
    export { Title };
    ```

    This line allows other JavaScript files to import and execute this code.

3. Again inside of `src`, create a new file and call it `app.js`. Create a new function component in this file called `App`, and just like `Title`, export this component at the bottom of the page:

    ```js
    export { App };
    ```

4. Copy the element rendered in `index.html` (line 19) and paste inside the body of the `App` function, making sure to return it:

    ```js
    function App() {
      return React.createElement(Title, null, 'Menu');
    }
    ```

    Since you're using `Title` in `createElement`, you will need to import it from `./title.js` at the top of the page:

    ```js
    import { Title } from './title.js';
    ```

    > ðŸš¨ Make sure to include the `.js` when importing JavaScript modules. The ECMAScript Module (ESM) specification requires a complete path, including the extension. The `./` refers to the directory the current file lives in (in this case, `src`).

    Creating a top-level `App` component is a common practice in React. It serves as a place to add global functionality and configuration. Next we'll render this app component.

5. Once more inside of `src`, create a new file and call it `main.js`. This will be the file that bootstraps our application. Cut our remaining JavaScript code out of `index.html`, starting with line 16, and paste it into `main.js`.

6. Import and render the `App` component from `./app.js` in place of what is currently in `React.createElement`.

7. Finally, in `index.html`, remove anything that's left between the `script` tags inside the `body`. In the opening script tag, add a `src` attribute and set it equal to `./src/main.js`.

8. To test this out, in your terminal, run `npm start`. This will start a local development server. Modules almost always require a server due to security policies in browsers. 
    
    Agree to install any dependencies if you are asked, and navigate to the address shown after initialization (usually `localhost:3000`). You should see the same result from the last exercise.

ðŸŽ‰ðŸŽ‰ Congratulations! You've just created your first React app.